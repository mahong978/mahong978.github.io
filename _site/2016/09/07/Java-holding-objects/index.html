<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Java笔记整理：持有对象</title>
    <meta name="description" content="《Java编程思想》第十一章  如果一个程序只包含固定数量的且生命周期都是已知的对象，那么这是一个非常简单的程序">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href=" /css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href=" /css/main.css ">
    <!--<link rel="stylesheet" href=" /css/syntax.css ">-->
    <link rel="canonical" href="http://mahong978.github.io/2016/09/07/Java-holding-objects/">
    <link rel="alternate" type="application/rss+xml" title="Mahong" href="http://mahong978.github.io /feed.xml ">


    <script>
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?c4e3e6dfb970411c574e62c2c06e0c41";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


    <script>
    // google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-72449510-4', 'auto');
      ga('send', 'pageview');

    </script>

</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">Mahong</a>
        <small>Android Developer</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/">
                    
                        <i class="fa fa-home"></i>主页
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>存档
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>分类
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>标签
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>Collections
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/demo/">
                        
                            <i class="fa fa-play"></i>Demo
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-heart"></i>About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" post>
    <div class="left">
        <h1>Java笔记整理：持有对象</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2016-09-07
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#java" title="Category: java" rel="category">java</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#java" title="Tag: java" rel="tag">java</a-->
        <a href="/tag/#java" title="Tag: java" rel="tag">java</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">泛型</a></li>
  <li><a href="#section-1" id="markdown-toc-section-1">基本概念</a>    <ul>
      <li><a href="#section-2" id="markdown-toc-section-2">添加一组元素</a></li>
      <li><a href="#section-3" id="markdown-toc-section-3">容器的打印</a></li>
      <li><a href="#list" id="markdown-toc-list">List</a></li>
      <li><a href="#section-4" id="markdown-toc-section-4">迭代器</a>        <ul>
          <li><a href="#listiterator" id="markdown-toc-listiterator">ListIterator</a></li>
        </ul>
      </li>
      <li><a href="#linkedlist" id="markdown-toc-linkedlist">LinkedList</a></li>
      <li><a href="#stack" id="markdown-toc-stack">Stack</a></li>
      <li><a href="#set" id="markdown-toc-set">Set</a></li>
      <li><a href="#map" id="markdown-toc-map">Map</a></li>
      <li><a href="#queue" id="markdown-toc-queue">Queue</a>        <ul>
          <li><a href="#priorityqueue" id="markdown-toc-priorityqueue">PriorityQueue</a></li>
        </ul>
      </li>
      <li><a href="#collectioniterator" id="markdown-toc-collectioniterator">Collection和Iterator</a></li>
      <li><a href="#foreach" id="markdown-toc-foreach">foreach和迭代器</a>        <ul>
          <li><a href="#section-5" id="markdown-toc-section-5">适配器方法惯用法</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#section-6" id="markdown-toc-section-6">总结</a></li>
</ul>

<p>《Java编程思想》第十一章</p>

<blockquote>
  <p>如果一个程序只包含固定数量的且生命周期都是已知的对象，那么这是一个非常简单的程序</p>
</blockquote>

<p><br />
JAVA实用类库提供了一套容器类，其中基本的类型是List，Set，Queue和Map。也称为集合类</p>

<p>可以将任意数量的对象放置到容器中</p>

<p>JAVA中的容器都是类，也就是说JAVA没有直接的关键字支持</p>

<hr />

<h2 id="section">泛型</h2>

<p>泛型指定了容器中元素的类型，访问元素时返回的是泛型类型的引用，可能需要自己转型</p>

<p>可以为容器指定多个泛型</p>

<p>使用泛型，可以在编译期防止错误类型的放置</p>

<p><br />
打印对象时可能产生的无符号十六进制数，是由hashCode方法产生的</p>

<hr />

<h2 id="section-1">基本概念</h2>

<p>容器类可以分为两个概念</p>

<ul>
  <li>
    <p>Collection：独立元素的序列，元素的排序服从一条或多条规则。其中包含：</p>

    <ul>
      <li>List：必须按照插入的顺序保存元素</li>
      <li>Set：不能有重复元素</li>
      <li>Queue：按照排队规则来确定对象产生的顺序（通常与被插入顺序相同）</li>
    </ul>

    <p>所有的Collection对象能使用foreach语法遍历</p>
  </li>
  <li>
    <p>Map：一组成对的“键值对”对象，允许使用键来查找值。映射表允许使用一个对象（不是引用）来查找另一个对象</p>
  </li>
</ul>

<h3 id="section-2">添加一组元素</h3>
<p>Arrays.asList()方法接受一个数组，或者一个用逗号分隔的元素列表（可变参数），并将其转换为一个List对象</p>

<p>Collections.addAll()方法接受一个Collection对象，以及一个数组或是逗号分隔的列表，将元素添加到Collection对象中</p>

<p>Collection.addAll()方法接受一个Collection对象，将该对象的元素添加到方法调用者中</p>

<p><br />		
Collection.addAll()运行更快，但不够灵活</p>

<p><br />
Arrays.asList()方法返回的List是和数组链接在一起的，因此不能对返回的List做插入和删除操作</p>

<p>可以指定asList方法返回列表的目标类型：Arrays.<E>asList()</E></p>

<p><br />
对于Map的初始化，除了用另一个Map之外，没有其他的初始化方式</p>

<h3 id="section-3">容器的打印</h3>
<p>对于数组，必须使用Arrays.toString()方法进行打印</p>

<p>对于容器，则无需任何帮助</p>

<p>对于Set和Map，除了LinkedHash的，其他类型的都不是按插入顺序存储的</p>

<h3 id="list">List</h3>
<p>有两种类型的List：</p>

<ul>
  <li>ArrayList：擅长随机访问元素，但是中间插入和移除元素较慢</li>
  <li>LinkedList：优化中间插入和移除元素，随机访问较慢，但是特性集比ArrayList大</li>
</ul>

<p>contain：确定某个对象是否在列表中（containsAll，顺序无关）</p>

<p>indexOf：发现对象在List中所处位置的索引编号，如果没有则返回-1</p>

<p>remove：移除一个对象，如果成功返回true，否则（比如不存在）返回false（removeAll，顺序无关）</p>

<p>subList：从列表中创建出一个片段</p>

<p>retainAll：查找两个列表的交集</p>

<p>set：在指定的索引处将原先的元素替换</p>

<p>toArray：默认将列表转换成一个Object数组，如果参数提供特定类型的数组，则会返回一个这个类型的数组（如果能通过类型检查），如果提供的数组够大，会将元素放在这个数组中</p>

<p><br />
List的addAll方法支持在中间插入一个序列</p>

<h3 id="section-4">迭代器</h3>
<p>JAVA的Iterator只能单向移动</p>

<p>使用容器的iterator()方法获得该容器的一个迭代器，该迭代器将准备好返回序列的第一个元素</p>

<p>next()：返回下一个元素，即第一次调用next方法时将返回第一个元素</p>

<p>hasNext()：检查是否还有元素</p>

<p>remove()：将迭代器next产生的最后一个元素删除，即使用remove前必须先调用next</p>

<p><br />
迭代器的好处：将遍历序列的操作和序列底层的结构分离。迭代器统一了对容器的访问方式</p>

<h4 id="listiterator">ListIterator</h4>
<p>ListIterator可以双向移动</p>

<p>previous()：返回当前元素并移动到上一个元素（和next相反）</p>

<p>nextIndex()：返回下一次next方法将访问的下标</p>

<p>previousIndex()：返回下一次previous方法将访问的下标</p>

<p>previousIndex = nextIndex - 1</p>

<p>set()：替换访问过的最后一个元素</p>

<p><br />
可以给listIterator()方法传入一个int参数来返回一个指向指定下标元素的迭代器</p>

<h3 id="linkedlist">LinkedList</h3>
<p>LinkedList添加了可以使其用作栈，队列或双端队列的方法</p>

<p>getFirst()：返回列表的头，如果列表为空则抛出NoSuchElementException</p>

<p>element()：同上</p>

<p>peek()：同上，但列表为空时返回null</p>

<p><br />
remove()：移除并返回列表的头，如果列表为空则抛出NoSuchElementException</p>

<p>removeLast()：同上</p>

<p>poll()：同上，但列表为空时返回null</p>

<p>element</p>

<p>getFirst，get(int)，getLast</p>

<p>offerFirst，offer，offerLast</p>

<p>peekFirst，peek，peekLast</p>

<p>pollFirst，poll，pollLast</p>

<p><br />
pop，push</p>

<p>remove() = removeFirst()，remove(int)， remove(Object)</p>

<p>removeFirst， removeLast</p>

<p>removeFirstOccurrence，removeLastOccurrence</p>

<h3 id="stack">Stack</h3>
<p>Stack继承自Vector类，因此是线程安全的</p>

<h3 id="set">Set</h3>
<p>通常会选择一个HashSet的实现，因为查找是Set最重要的操作</p>

<p>Set具有和Collection完全一样的接口，因此没有任何额外的功能（实际上Set就是Collection）</p>

<p><br />
HashSet使用了散列，TreeSet将元素存储在红黑树数据结构中</p>

<p>如果希望得到排序的结果，可以使用TreeSet</p>

<p>可以向TreeSet的构造器传入一个比较器Comparator（String.CASE_INSENSITIVE_ORDER）</p>

<p>contains()：测试对象是否在集合中</p>

<h3 id="map">Map</h3>
<p>容器不能用于基本类型</p>

<p>containsKey：键是否存在</p>

<p>containsValue：值是否存在</p>

<p>keySet：返回包含所有键的集合（在foreach语句被使用）</p>

<p>values：返回包含所有值得Collection（值可以重复）</p>

<p>entrySet：返回所有键值对的集合</p>

<h3 id="queue">Queue</h3>
<p>先进先出（FIFO）的容器</p>

<p>LinkedList之所有支持队列的行为，是因为它实现了Queue接口</p>

<p>相关方法：offer，peek，poll，add，remove</p>

<h4 id="priorityqueue">PriorityQueue</h4>

<p>当使用offer方法往PriorityQueue插入元素时，会在队列中被排序（维护一个堆），默认排序方式是自然排序。当调用peek，poll，remove方法，都会确保获得优先级最大的元素（最小的值拥有最大优先级）</p>

<p>可以自定义Comparator（Collections.reverseOrder()）</p>

<h3 id="collectioniterator">Collection和Iterator</h3>

<p>AbstractCollection提供了Collection的默认实现，如果要自定义Collection，可以创建AbstractCollection的子类型</p>

<p>必须要自己实现iterator()和size()方法</p>

<h3 id="foreach">foreach和迭代器</h3>

<p>foreach语法可以适用于任何Collection对象</p>

<p>Iterable接口包含了一个能产生迭代器的iterator()方法，任何实现Iterable的类都能用于foreach语句</p>

<p>Collection类是Iterable，但Map不是</p>

<p>数组不是Iterable，但可以用于foreach，而且数组没有自动包装机制，数组不能转成Iterable</p>

<h4 id="section-5">适配器方法惯用法</h4>

<p>如果直接将对象置于foreach语句中，将得到默认的迭代器（调用了iterable()）</p>

<p>如果在Iterable类中添加方法，返回一个产生反向迭代器的Iterable对象（该类操作的是原Iterable对象的数据），相当于调用一个方法，将自己变成另一种Iterable在返回，而这种Iterable能够返回反向的迭代器</p>

<p><br />
Arrays.asList方法产生的队列，如果对其进行修改，也会影响到原数组</p>

<hr />

<h2 id="section-6">总结</h2>

<ol>
  <li>suzuki一旦生成，就不能改变容量</li>
  <li>Collection保存单一元素，Map保存相关联的键值对。容器会自动调整尺寸。容器不能持有基本类型。容器有自动包装机制</li>
  <li>如果需要大量的随机访问，应该使用ArrayList，如果需要经常从表中插入或删除元素，应该使用LinkedList</li>
  <li>各种Queue以及栈的行为，由LinkedList提供支持</li>
  <li>新程序不应使用过时的Vector，Hashtable和Stack</li>
</ol>


        </article>
        <hr>

        
        
            
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                        
                        <h2 id="similar_posts">Similar Posts</h2>
                        <ul>
                        
                        <li class="relatedPost">
                            <a href="http://mahong978.github.io/2016/09/07/Java-inner-class/">Java笔记整理：内部类
                            
                            </a>
                        </li>
                        
                        
                    
                
            
        
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="http://mahong978.github.io/2016/09/07/Java-interface/">Java笔记整理：接口
                            
                            </a>
                        </li>
                        
                        
                    
                
            
        
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="http://mahong978.github.io/2016/09/05/Java-polymorphism/">Java笔记整理：多态
                            
                            </a>
                        </li>
                        
                        
                    
                
            
        
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="http://mahong978.github.io/2016/09/05/Java-reuse-class/">Java笔记整理：复用类
                            
                            </a>
                        </li>
                        
                        
                    
                
            
        
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="http://mahong978.github.io/2016/09/04/Java-access-control/">Java笔记整理：访问权限控制
                            
                            </a>
                        </li>
                        
                        
                    
                
            
        
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="http://mahong978.github.io/2016/09/02/Java-initialization-and-clean/">Java笔记整理：初始化和清理
                            
                            </a>
                        </li>
                        
                        
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
        
            </ul>
        

        <div class="post-recent">
    <div class="pre">
        
        <p><strong>上一篇</strong> <a href="/2016/09/07/Java-inner-class/">Java笔记整理：内部类</a></p>
        
    </div>
    <div class="nex">

        
        <p><strong>下一篇</strong> <a href="/2016/09/08/Android-DRN/">Android N新特性：direct reply notification</a></p>
        
    </div>
</div>


        <h2 id="comments">Comments</h2>
        
<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="http://mahong978.github.io/2016/09/07/Java-holding-objects/" data-title="Java笔记整理：持有对象" data-url="http://mahong978.github.io/2016/09/07/Java-holding-objects/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    var duoshuoQuery = {
        short_name: "mahong978"
    };
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';
        ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->






    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">

            <!-- Content -->
            <div class="side content">
                <div>
                    Content
                </div>
                <ul id="content-side" class="content-ul">
                    <li><a href="#similar_posts">Similar Posts</a></li>
                    <li><a href="#comments">Comments</a></li>
                </ul>
            </div>
            <!-- 其他div框放到这里 -->
            <!-- <div class="side">bbbb</div> -->
        </div>
    </div>
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>


    <footer class="site-footer">


    <div class="wrapper">

        <p class="description">
             个人博客 
        </p>
        <p class="contact">
            Contact me at: 
            <a href="https://github.com/mahong978" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a>  
            <a href="mailto:1350374964@qq.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>  
            <a href="http://weibo.com/mahq" title="Weibo"><i class="fa fa-weibo" aria-hidden="true"></i></a>  
            <a href="https://www.zhihu.com/people/ma-hong-66" title="Zhihu"><i class="iconfont">&#xe829;</i></a>   
            <a href="https://www.facebook.com/mahong978" title="Facebook"><i class="fa fa-facebook-official" aria-hidden="true"></i></a>    
        </p>
        <p>
            本站总访问量<span id="busuanzi_value_site_pv"></span>次，本站访客数<span id="busuanzi_value_site_uv"></span>人次，本文总阅读量<span id="busuanzi_value_page_pv"></span>次
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
            <span>
                Theme designed by <a href="https://github.com/Gaohaoyang">HyG</a>.
            </span>
        </p>
    </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
