---
layout: post
title:  "哈希表"
date:   2019-08-09 22:00
categories: Algorithm
tags: Algorithm
---

* content
{:toc}

哈希表是一个使用关联数组的数据结构，用哈希函数来计算在数组中的索引，数组中的每个位置称之为桶（bucket）或槽（slot）

哈希表的搜索，插入和删除的平均时间复杂度都是O(1)，最差是O(n)

理想的情况下，哈希函数为每个要插入的键算得唯一的索引。否则就会出现碰撞（collision），即多于一个键对应同一个索引，此时需要解决冲突

## 哈希函数

计算索引可以这样描述

```java
hash = hashfunc(key)
index = hash % array_size
```

选择一个好的哈希函数对哈希表的性能至关重要。其中一个要点就是能提供均匀分布的哈希值，否则就会导致更多的碰撞和更多的开销来解决碰撞

经典的哈希表使用2的幂作为表的大小，这样的好处是取模计算相当于：

```java
key % (2 ^ n) = key & (2 ^ n - 1)
// key % 10000 = key & 1111
```

这样随着每次哈希表扩张到原来的两倍，都会多一位用来计算索引

但是如果遇到比较差的哈希函数，容易算出相同低位的哈希值的话，就会出现大量键在几个桶出聚集（clustering）的情况

